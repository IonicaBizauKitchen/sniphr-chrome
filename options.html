<html>
<head>
	<title>Sniphr Options</title>
	<link href="http://local.dev:3001/stylesheets/compiled/screen.css" media="screen, projection" rel="stylesheet" type="text/css" /> 
	<script src="config.js" type="text/javascript"></script>
	<script src="common.js" type="text/javascript"></script>
	<script src="jquery-1.5.1.min.js" type="text/javascript"></script>
	<script type="text/javascript">

		// Saves options to localStorage.
		function save_options() {
		  localStorage["username"] = $('#username').val();
		  localStorage["mode"] = $('#mode').val();

			// TODO: Update icon to reflect mode
			// chrome.browserAction.setIcon(object details)

		  // Update status to let user know options were saved.
			$('#status').fadeIn();
		  setTimeout(function() {
				$('#status').fadeOut();
		  }, config.options.status_fadeout_delay);

		}

		// Restores select box state to saved value from localStorage.
		function restore_options() {
		  var username = localStorage["username"];
		  if (username) $('#username').val(username);
		
			// Mode should be set automatically in background.html
		  var mode = localStorage["mode"];
			$('#mode').val(mode);
		}

	</script>
</head>

<body onload="restore_options()">
	
	<div class="extension_options">

		<h2>
			Sniphr
			<span class="weak">Options</span>
		</h2>
		
		<form>
			
			<ul class="inputs">

				<li class="even">
					<label for="username">Username</label>
					<input type="text" id="username" class="text">
				</li>
				
				<li>
					<label for="mode">Mode</label>
					<select id="mode">
						<option value="public">Public</option>
						<option value="private">Private</option>
						<option value="disabled">Disabled</option>
					</select>
				</li>
				
				<li>
					<a href="#" onclick="save_options(); return false;" id="save_options">Save</a>
				</li>
				
			</ul>
		
		</form>
	
		<div id="status" style="display:none">Options Saved</div>

	</div>

</body>
</html>